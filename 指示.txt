of this tutorial which is deploying the application so if you haven't already go
7:43:41
ahead and create a repository for this application I did this in the beginning of the tutorial when I explained you how
7:43:48
to use trunk but just in case you haven't done this let's go ahead and see how we do this so go ahead and open a
7:43:54
new repository on GitHub and go ahead and give your repository name like next3
7:43:59
notion tutorial or actually I'm going to use Jan
7:44:04
tutorial like this and I'm going to set it to private and I'm going to click create a repository and after this is
7:44:12
done since this is not a new uh new repository right we have a lot of files here if you're going to select this
7:44:18
second option push an existing repository from the command line and let me see if I can do that because I
7:44:24
already have a repository uh inside of this so let's see if I can do this I'm going to go ahead and what you can
7:44:31
actually do is shut down everything so you're no longer going to need the convex Dev or the mpm runev and just
7:44:37
paste this commands from here and there we go I have an error because remote origin already exists but let's see if
7:44:43
this command still worked or not let me refresh looks like it's not working but for you it's going to work if you
7:44:50
haven't set up your repository beforehand on the other side if you already have the GitHub repository uh so
7:44:57
just refresh this page and then you're going to see your GitHub repository so I already have it let me just show you uh
7:45:03
where it is so let's go inside of my repositories and I have it right here notion dclone
7:45:09
tutorial so this is my repository and now let's take a look at everything we need to do uh to prepare convex for
7:45:16
production so click on Docs right here and find the production tab inside and
7:45:21
you have the option hosting and deployment and select verell and let's go ahead and see what we need to do here
7:45:27
so we need to create a versal account so do that if you haven't and try and sign up with your GitHub since it's going to
7:45:33
be easier now we have to link our project on versel so click add new here and select a project and go ahead and
7:45:41
select that uh repository so for my case it's notion dclone Das tututorial go
7:45:47
ahead and click import here and I'm just going to change this to uh something
7:45:53
else because I recommend you don't use the original application name inside of your url because it can be labeled as a
7:46:00
fishing site so I'm going to change this to note taking app like this you can
7:46:05
leave the framework pres it as it is and let's take a look at what we need to do next so it says we need to overwrite the
7:46:11
build command so let's go ahead and do that click on build and output seconds and click on the overr right tab right
7:46:18
here and change the Run command to be npm run build and convex deploy like
7:46:24
this so npm run build and convex deploy and let's see what was previously it was next build so now it's mpm run build and
7:46:30
convex deploy and now we need to set up our environment variables so first let's do it the easy way go inside of your
7:46:37
environment. loal go ahead and copy everything from here and paste it in this one and there we go I have all of
7:46:43
my uh variables right here but we're not done here because we have to change our
7:46:49
convex project to production so let's go inside of our convex dashboard select the application you're working with and
7:46:56
let's go ahead and choose production like this and there we go now it's creating our production and as you can
7:47:01
see this is completely empty so let's try and find our uh URLs here so I
7:47:07
clicked on uh settings right here and let's see what we need to do so what we
7:47:12
need is the deployment URL right here so let's go ahead and copy this deployment
7:47:18
URL let's go here and let's find that next Publix convex URL I think that is
7:47:23
this one so let's paste it here so replace it like that now we have the convex deployment here uh and let's see
7:47:31
if there's anything else we have to change uh let's try and generating a new deployment key like this there we go so
7:47:38
deploy key right here go ahead and copy that and change the convex deployment to
7:47:44
be the production instance of it like this and I think uh that should be it so
7:47:51
in this case it's convex deploy key key but since we're working with nextjs I think ours is correct if it's not no
7:47:58
worries and if we have any errors we're going to fix them so let's click deploy make sure you did this changes for
7:48:04
production and I'm going to pause the video and I'm going to show you the results I have from the
7:48:11
deployment so it looks like I have an error here and I'm pretty sure you're going to have it as well the deployment
7:48:16
failed and it says that convex deploy key is not set so it looks like we made
7:48:21
a mistake following this uh after all so let's go ahead and leave this as it is
7:48:28
and I'm just going to zoom out and I'm going to click back here and let me just
7:48:34
go ahead back inside of my projects here let me refresh this so I have this not taking app which I tried to deploy but
7:48:40
it failed I'm going to click on settings here and I'm going to go on the environment variables here on the side
7:48:47
right and let's go ahead and see so we have the convex deployment but we don't have the convex deployment key so let's
7:48:54
go ahead and create that so copy this deploy key from here and we have to name
7:49:00
it convex unor deploy unor key so let's add that so convex _ deploy undor key
7:49:07
and paste it like this and click save there we go so now we have the convex
7:49:12
deployment key like this and I'm just going to leave this as it is I'm not even sure if if we need convex
7:49:18
deployment after all and now that you added the new environment variables go back inside of uh deployments here find
7:49:25
the one that failed click on these three dots here and click redeploy and click
7:49:30
redeploy one more time and I'm going to go ahead and pause the video again and
7:49:35
we're going to see if there are any more errors we need to fix and there we go looks like it's
7:49:42
working so now let's go ahead and click on no taking app here click on Project
7:49:48
so you can get the URL which is no taking app- r.v. apppp in my case in
7:49:53
your case it's going to be something different and look at this oh seems like we have a little bug here oh well we're
7:49:59
going to fix that right away so I'm going to show you how to fix it but let's go ahead and check if everything
7:50:05
is working so I'm going to log in with my GitHub from here I'm going to authorize clerk let's go ahead and there
7:50:13
we go I can enter Jan and since we are in production we have no no Pages created here and there we go so I can
7:50:20
start from the beginning here perfect real time is working let's test our
7:50:27
upload if that is working as well so let me just find my folder all right let's select a random
7:50:34
image from here let's see if that is going to work there we go that is
7:50:39
working as well let's try it from here so I'm going to upload an image from here as well let's go ahead and add that
7:50:46
there we go let's try and remove an image that seems to be working let's try and deleting this it's in the trash we
7:50:54
can recover it everything is working as we expected let's add a little icon here
7:51:00
there we go everything in our project is working the only problem we seem to have is in our landing page so let's try and
7:51:07
resolve that so I'm going to go ahead and log out just make sure you have your app running again so let me just go
7:51:14
ahead and do terminal here mpm
7:51:19
runev inside of my project and let me just refresh this so I should be uh back
7:51:26
on my landing page and there we go this is an error we have well not an error but it looks like our background is not
7:51:31
fully uh dark here so let's see how we can resolve that first thing I'm going
7:51:37
to check is the layout page of the marketing folder so I'm going to go
7:51:42
inside of my app folder marketing here and I see I have a layout page
7:51:48
and it looks like in here we do give it a specific dark color so let's see uh
7:51:54
what else could we change here let's go inside of page. DSX to see that hm maybe
7:52:00
here something is missing and yes let's try and give that dark background inside
7:52:05
of the page. DSX as well like this let's see if that fixes it and that seems to
7:52:11
have fixed it so how do you redeploy well very easily with versel all you
7:52:17
have have to do is add this change commit this change so
7:52:22
fix and get push like this go ahead and push that and now you can go back inside
7:52:29
of your versel you can click on deployments and as you can see I have a new deployment building right now so I'm
7:52:35
just going to go ahead uh and uh pause my screen and then we're going to visit the landing page
7:52:43
again all right it's successfully deployed and let's go ahead and check check it out now so I'm going to go
7:52:48
ahead and log out and let's take a look and there we go we no longer have that black bar here
7:52:55
which we had everything is in the color it's supposed to be perfect amazing
7:53:01
amazing job thank you so much for watching this entire tutorial and remember to leave a like share comment
7:53:08
and subscribe and see you in the next one